{"ast":null,"code":"import _toConsumableArray from\"E:/MERN/backend/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"E:/MERN/backend/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{ADD_TO_CART,REMOVE_ITEM,CHECKOUT,CLEAR}from\"./cartTypes\";var Storage=function Storage(cartItems){localStorage.setItem(\"cartItems\",JSON.stringify(cartItems.length>0?cartItems:[]));};export var sumItems=function sumItems(cartItems){Storage(cartItems);var itemCount=cartItems.length;var total=cartItems.reduce(function(total,item){return total+item.fee;},0).toFixed(2);return{itemCount:itemCount,total:total};};var CartReducer=function CartReducer(state,action){switch(action.type){case ADD_TO_CART:if(!state.cartItems.find(function(item){return item._id===action.payload._id;})){state.cartItems.push(_objectSpread({},action.payload));}return _objectSpread(_objectSpread(_objectSpread({},state),sumItems(state.cartItems)),{},{cartItems:_toConsumableArray(state.cartItems)});case REMOVE_ITEM:return _objectSpread(_objectSpread(_objectSpread({},state),sumItems(state.cartItems.filter(function(item){return item._id!==action.payload._id;}))),{},{cartItems:_toConsumableArray(state.cartItems.filter(function(item){return item._id!==action.payload._id;}))});case CHECKOUT:return _objectSpread({cartItems:[],checkout:true},sumItems([]));case CLEAR:return _objectSpread({cartItems:[]},sumItems([]));default:return state;}};export default CartReducer;","map":{"version":3,"names":["ADD_TO_CART","REMOVE_ITEM","CHECKOUT","CLEAR","Storage","cartItems","localStorage","setItem","JSON","stringify","length","sumItems","itemCount","total","reduce","item","fee","toFixed","CartReducer","state","action","type","find","_id","payload","push","_objectSpread","_toConsumableArray","filter","checkout"],"sources":["E:/MERN/backend/client/src/context/cartContext/cartReducer.tsx"],"sourcesContent":["import { ADD_TO_CART, REMOVE_ITEM, CHECKOUT, CLEAR } from \"./cartTypes\";\n\nconst Storage = (cartItems: CartPet[]) => {\n  localStorage.setItem(\n    \"cartItems\",\n    JSON.stringify(cartItems.length > 0 ? cartItems : [])\n  );\n};\n\nexport const sumItems = (cartItems: CartPet[]) => {\n  Storage(cartItems);\n  let itemCount = cartItems.length;\n  let total = cartItems.reduce((total, item) => total + item.fee, 0).toFixed(2);\n  return { itemCount, total };\n};\n\nconst CartReducer = (state: any, action: CartActionType) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      if (\n        !state.cartItems.find(\n          (item: CartPet) => item._id === action.payload._id\n        )\n      ) {\n        state.cartItems.push({\n          ...action.payload,\n        });\n      }\n\n      return {\n        ...state,\n        ...sumItems(state.cartItems),\n        cartItems: [...state.cartItems],\n      };\n\n    case REMOVE_ITEM:\n      return {\n        ...state,\n        ...sumItems(\n          state.cartItems.filter(\n            (item: CartPet) => item._id !== action.payload._id\n          )\n        ),\n        cartItems: [\n          ...state.cartItems.filter(\n            (item: CartPet) => item._id !== action.payload._id\n          ),\n        ],\n      };\n\n    case CHECKOUT:\n      return {\n        cartItems: [],\n        checkout: true,\n        ...sumItems([]),\n      };\n\n    case CLEAR:\n      return {\n        cartItems: [],\n        ...sumItems([]),\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default CartReducer;\n"],"mappings":"+NAAA,OAASA,WAAW,CAAEC,WAAW,CAAEC,QAAQ,CAAEC,KAAK,KAAQ,aAAa,CAEvE,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAIC,SAAoB,CAAK,CACxCC,YAAY,CAACC,OAAO,CAClB,WAAW,CACXC,IAAI,CAACC,SAAS,CAACJ,SAAS,CAACK,MAAM,CAAG,CAAC,CAAGL,SAAS,CAAG,EAAE,CACtD,CAAC,CACH,CAAC,CAED,MAAO,IAAM,CAAAM,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIN,SAAoB,CAAK,CAChDD,OAAO,CAACC,SAAS,CAAC,CAClB,GAAI,CAAAO,SAAS,CAAGP,SAAS,CAACK,MAAM,CAChC,GAAI,CAAAG,KAAK,CAAGR,SAAS,CAACS,MAAM,CAAC,SAACD,KAAK,CAAEE,IAAI,QAAK,CAAAF,KAAK,CAAGE,IAAI,CAACC,GAAG,GAAE,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC,CAC7E,MAAO,CAAEL,SAAS,CAATA,SAAS,CAAEC,KAAK,CAALA,KAAM,CAAC,CAC7B,CAAC,CAED,GAAM,CAAAK,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,KAAU,CAAEC,MAAsB,CAAK,CAC1D,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAK,CAAArB,WAAW,CACd,GACE,CAACmB,KAAK,CAACd,SAAS,CAACiB,IAAI,CACnB,SAACP,IAAa,QAAK,CAAAA,IAAI,CAACQ,GAAG,GAAKH,MAAM,CAACI,OAAO,CAACD,GAAG,EACpD,CAAC,CACD,CACAJ,KAAK,CAACd,SAAS,CAACoB,IAAI,CAAAC,aAAA,IACfN,MAAM,CAACI,OAAO,CAClB,CAAC,CACJ,CAEA,OAAAE,aAAA,CAAAA,aAAA,CAAAA,aAAA,IACKP,KAAK,EACLR,QAAQ,CAACQ,KAAK,CAACd,SAAS,CAAC,MAC5BA,SAAS,CAAAsB,kBAAA,CAAMR,KAAK,CAACd,SAAS,CAAC,GAGnC,IAAK,CAAAJ,WAAW,CACd,OAAAyB,aAAA,CAAAA,aAAA,CAAAA,aAAA,IACKP,KAAK,EACLR,QAAQ,CACTQ,KAAK,CAACd,SAAS,CAACuB,MAAM,CACpB,SAACb,IAAa,QAAK,CAAAA,IAAI,CAACQ,GAAG,GAAKH,MAAM,CAACI,OAAO,CAACD,GAAG,EACpD,CACF,CAAC,MACDlB,SAAS,CAAAsB,kBAAA,CACJR,KAAK,CAACd,SAAS,CAACuB,MAAM,CACvB,SAACb,IAAa,QAAK,CAAAA,IAAI,CAACQ,GAAG,GAAKH,MAAM,CAACI,OAAO,CAACD,GAAG,EACpD,CAAC,CACF,GAGL,IAAK,CAAArB,QAAQ,CACX,OAAAwB,aAAA,EACErB,SAAS,CAAE,EAAE,CACbwB,QAAQ,CAAE,IAAI,EACXlB,QAAQ,CAAC,EAAE,CAAC,EAGnB,IAAK,CAAAR,KAAK,CACR,OAAAuB,aAAA,EACErB,SAAS,CAAE,EAAE,EACVM,QAAQ,CAAC,EAAE,CAAC,EAGnB,QACE,MAAO,CAAAQ,KAAK,CAChB,CACF,CAAC,CAED,cAAe,CAAAD,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}