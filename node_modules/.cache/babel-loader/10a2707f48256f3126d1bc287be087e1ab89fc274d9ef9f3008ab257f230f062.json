{"ast":null,"code":"import _slicedToArray from\"E:/MERN/backend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"E:/MERN/backend/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useReducer}from\"react\";import CartContext from\"./cartContext\";import CartReducer from\"./cartReducer\";import{sumItems}from\"./cartReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";var storage=localStorage.getItem(\"cartItems\")?JSON.parse(localStorage.getItem(\"cartItems\")||\"{}\"):[];export var CartState=function CartState(_ref){var children=_ref.children;var initialState=_objectSpread(_objectSpread({cartItems:storage},sumItems(storage)),{},{checkout:false});var _useReducer=useReducer(CartReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var addToCart=function addToCart(payload){dispatch({type:\"ADD_TO_CART\",payload:payload});};var removeFromCart=function removeFromCart(payload){dispatch({type:\"REMOVE_ITEM\",payload:payload});};var clearCart=function clearCart(){dispatch({type:\"CLEAR\"});};var handleCheckout=function handleCheckout(){dispatch({type:\"CHECKOUT\"});};return/*#__PURE__*/_jsx(CartContext.Provider,{value:_objectSpread({showCart:state.showCart,cartItems:state.cartItems,addToCart:addToCart,removeFromCart:removeFromCart,handleCheckout:handleCheckout,clearCart:clearCart},state),children:children});};","map":{"version":3,"names":["useReducer","CartContext","CartReducer","sumItems","jsx","_jsx","storage","localStorage","getItem","JSON","parse","CartState","_ref","children","initialState","_objectSpread","cartItems","checkout","_useReducer","_useReducer2","_slicedToArray","state","dispatch","addToCart","payload","type","removeFromCart","clearCart","handleCheckout","Provider","value","showCart"],"sources":["E:/MERN/backend/client/src/context/cartContext/cartState.tsx"],"sourcesContent":["import { useReducer } from \"react\";\nimport CartContext from \"./cartContext\";\nimport CartReducer from \"./cartReducer\";\nimport { sumItems } from \"./cartReducer\";\n\nconst storage = localStorage.getItem(\"cartItems\")\n  ? JSON.parse(localStorage.getItem(\"cartItems\") || \"{}\")\n  : [];\n\nexport const CartState: React.FC<Props> = ({ children }) => {\n  const initialState = {\n    cartItems: storage,\n    ...sumItems(storage),\n    checkout: false,\n  };\n\n  const [state, dispatch] = useReducer(CartReducer, initialState);\n\n  const addToCart = (payload: CartPet) => {\n    dispatch({ type: \"ADD_TO_CART\", payload });\n  };\n\n  const removeFromCart = (payload: CartPet) => {\n    dispatch({ type: \"REMOVE_ITEM\", payload });\n  };\n\n  const clearCart = () => {\n    dispatch({ type: \"CLEAR\" });\n  };\n\n  const handleCheckout = () => {\n    dispatch({ type: \"CHECKOUT\" });\n  };\n\n  return (\n    <CartContext.Provider\n      value={{\n        showCart: state.showCart,\n        cartItems: state.cartItems,\n        addToCart,\n        removeFromCart,\n        handleCheckout,\n        clearCart,\n        ...state,\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n"],"mappings":"uNAAA,OAASA,UAAU,KAAQ,OAAO,CAClC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,OAASC,QAAQ,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEzC,GAAM,CAAAC,OAAO,CAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAC7CC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,EAAI,IAAI,CAAC,CACrD,EAAE,CAEN,MAAO,IAAM,CAAAG,SAA0B,CAAG,QAA7B,CAAAA,SAA0BA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACnD,GAAM,CAAAC,YAAY,CAAAC,aAAA,CAAAA,aAAA,EAChBC,SAAS,CAAEV,OAAO,EACfH,QAAQ,CAACG,OAAO,CAAC,MACpBW,QAAQ,CAAE,KAAK,EAChB,CAED,IAAAC,WAAA,CAA0BlB,UAAU,CAACE,WAAW,CAAEY,YAAY,CAAC,CAAAK,YAAA,CAAAC,cAAA,CAAAF,WAAA,IAAxDG,KAAK,CAAAF,YAAA,IAAEG,QAAQ,CAAAH,YAAA,IAEtB,GAAM,CAAAI,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAIC,OAAgB,CAAK,CACtCF,QAAQ,CAAC,CAAEG,IAAI,CAAE,aAAa,CAAED,OAAO,CAAPA,OAAQ,CAAC,CAAC,CAC5C,CAAC,CAED,GAAM,CAAAE,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIF,OAAgB,CAAK,CAC3CF,QAAQ,CAAC,CAAEG,IAAI,CAAE,aAAa,CAAED,OAAO,CAAPA,OAAQ,CAAC,CAAC,CAC5C,CAAC,CAED,GAAM,CAAAG,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACtBL,QAAQ,CAAC,CAAEG,IAAI,CAAE,OAAQ,CAAC,CAAC,CAC7B,CAAC,CAED,GAAM,CAAAG,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAC3BN,QAAQ,CAAC,CAAEG,IAAI,CAAE,UAAW,CAAC,CAAC,CAChC,CAAC,CAED,mBACEpB,IAAA,CAACJ,WAAW,CAAC4B,QAAQ,EACnBC,KAAK,CAAAf,aAAA,EACHgB,QAAQ,CAAEV,KAAK,CAACU,QAAQ,CACxBf,SAAS,CAAEK,KAAK,CAACL,SAAS,CAC1BO,SAAS,CAATA,SAAS,CACTG,cAAc,CAAdA,cAAc,CACdE,cAAc,CAAdA,cAAc,CACdD,SAAS,CAATA,SAAS,EACNN,KAAK,CACR,CAAAR,QAAA,CAEDA,QAAQ,CACW,CAAC,CAE3B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}