{"ast":null,"code":"import{useReducer}from\"react\";import CartContext from\"./cartContext\";import CartReducer from\"./cartReducer\";import{sumItems}from\"./cartReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";const storage=localStorage.getItem(\"cartItems\")?JSON.parse(localStorage.getItem(\"cartItems\")||\"{}\"):[];export const CartState=_ref=>{let{children}=_ref;const initialState={cartItems:storage,...sumItems(storage),checkout:false};const[state,dispatch]=useReducer(CartReducer,initialState);const addToCart=payload=>{dispatch({type:\"ADD_TO_CART\",payload});};const removeFromCart=payload=>{dispatch({type:\"REMOVE_ITEM\",payload});};const clearCart=()=>{dispatch({type:\"CLEAR\"});};const handleCheckout=()=>{dispatch({type:\"CHECKOUT\"});};return/*#__PURE__*/_jsx(CartContext.Provider,{value:{showCart:state.showCart,cartItems:state.cartItems,addToCart,removeFromCart,handleCheckout,clearCart,...state},children:children});};","map":{"version":3,"names":["useReducer","CartContext","CartReducer","sumItems","jsx","_jsx","storage","localStorage","getItem","JSON","parse","CartState","_ref","children","initialState","cartItems","checkout","state","dispatch","addToCart","payload","type","removeFromCart","clearCart","handleCheckout","Provider","value","showCart"],"sources":["E:/MERN/backend/client/src/context/cartContext/cartState.tsx"],"sourcesContent":["import { useReducer } from \"react\";\nimport CartContext from \"./cartContext\";\nimport CartReducer from \"./cartReducer\";\nimport { sumItems } from \"./cartReducer\";\n\nconst storage = localStorage.getItem(\"cartItems\")\n  ? JSON.parse(localStorage.getItem(\"cartItems\") || \"{}\")\n  : [];\n\nexport const CartState: React.FC<Props> = ({ children }) => {\n  const initialState = {\n    cartItems: storage,\n    ...sumItems(storage),\n    checkout: false,\n  };\n\n  const [state, dispatch] = useReducer(CartReducer, initialState);\n\n  const addToCart = (payload: CartPet) => {\n    dispatch({ type: \"ADD_TO_CART\", payload });\n  };\n\n  const removeFromCart = (payload: CartPet) => {\n    dispatch({ type: \"REMOVE_ITEM\", payload });\n  };\n\n  const clearCart = () => {\n    dispatch({ type: \"CLEAR\" });\n  };\n\n  const handleCheckout = () => {\n    dispatch({ type: \"CHECKOUT\" });\n  };\n\n  return (\n    <CartContext.Provider\n      value={{\n        showCart: state.showCart,\n        cartItems: state.cartItems,\n        addToCart,\n        removeFromCart,\n        handleCheckout,\n        clearCart,\n        ...state,\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n"],"mappings":"AAAA,OAASA,UAAU,KAAQ,OAAO,CAClC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,OAASC,QAAQ,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEzC,KAAM,CAAAC,OAAO,CAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAC7CC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,EAAI,IAAI,CAAC,CACrD,EAAE,CAEN,MAAO,MAAM,CAAAG,SAA0B,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACrD,KAAM,CAAAE,YAAY,CAAG,CACnBC,SAAS,CAAET,OAAO,CAClB,GAAGH,QAAQ,CAACG,OAAO,CAAC,CACpBU,QAAQ,CAAE,KACZ,CAAC,CAED,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGlB,UAAU,CAACE,WAAW,CAAEY,YAAY,CAAC,CAE/D,KAAM,CAAAK,SAAS,CAAIC,OAAgB,EAAK,CACtCF,QAAQ,CAAC,CAAEG,IAAI,CAAE,aAAa,CAAED,OAAQ,CAAC,CAAC,CAC5C,CAAC,CAED,KAAM,CAAAE,cAAc,CAAIF,OAAgB,EAAK,CAC3CF,QAAQ,CAAC,CAAEG,IAAI,CAAE,aAAa,CAAED,OAAQ,CAAC,CAAC,CAC5C,CAAC,CAED,KAAM,CAAAG,SAAS,CAAGA,CAAA,GAAM,CACtBL,QAAQ,CAAC,CAAEG,IAAI,CAAE,OAAQ,CAAC,CAAC,CAC7B,CAAC,CAED,KAAM,CAAAG,cAAc,CAAGA,CAAA,GAAM,CAC3BN,QAAQ,CAAC,CAAEG,IAAI,CAAE,UAAW,CAAC,CAAC,CAChC,CAAC,CAED,mBACEhB,IAAA,CAACJ,WAAW,CAACwB,QAAQ,EACnBC,KAAK,CAAE,CACLC,QAAQ,CAAEV,KAAK,CAACU,QAAQ,CACxBZ,SAAS,CAAEE,KAAK,CAACF,SAAS,CAC1BI,SAAS,CACTG,cAAc,CACdE,cAAc,CACdD,SAAS,CACT,GAAGN,KACL,CAAE,CAAAJ,QAAA,CAEDA,QAAQ,CACW,CAAC,CAE3B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}