{"ast":null,"code":"import _slicedToArray from\"E:/MERN/backend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{useLoaderData}from\"react-router-dom\";import{CarouselItem}from\"./carouselItem\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Carousel=function Carousel(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),currentIndex=_useState2[0],setCurrentIndex=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),windowCountOffset=_useState4[0],setWindowCountOffset=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),length=_useState6[0],setLength=_useState6[1];var petData=useLoaderData();useEffect(function(){setLength(petData.data.length);},[petData.data.length]);var next=function next(){if(currentIndex<length-1){setCurrentIndex(function(prevState){return prevState+1;});}if(currentIndex===length-windowCountOffset){setCurrentIndex(0);}};var prev=function prev(){if(currentIndex>0){setCurrentIndex(function(prevState){return prevState-1;});}if(currentIndex===0){setCurrentIndex(length-windowCountOffset);}};var detectWindow=function detectWindow(){if(window.innerWidth>=640)return setWindowCountOffset(4);else if(window.innerWidth>=768)return setWindowCountOffset(5);else return setWindowCountOffset(1);};useEffect(function(){return detectWindow();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"carousel-container w-full mt-5 flex flex-col \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"carousel-wrapper flex w-full relative\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:prev,className:\"left-arrow rounded-full bg-slate-500 text-white text-lg  absolute z-10 top-1/2 w-10 h-10 -translate-y-1/2 -left-5\",children:\"<\"}),/*#__PURE__*/_jsx(\"div\",{className:\"carousel-content-wrapper overflow-hidden w-full h-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"carousel-content flex transition-all w-full sm:w-1/4 md:1/5 duration-700 ease-in-out left-6 gap-x-0\",style:{transform:\"translateX(-\".concat(currentIndex*100,\"%)\")},children:petData.data.map(function(pet){return/*#__PURE__*/_jsx(CarouselItem,{species:pet.species,_id:pet._id,name:pet.name,image:pet.image},pet._id);})})}),/*#__PURE__*/_jsx(\"button\",{onClick:next,className:\"rounded-full bg-slate-500 text-white text-lg  right-arrow absolute z-10 top-1/2 w-10 h-10 -translate-y-1/2 -right-5\",children:\">\"})]})});};","map":{"version":3,"names":["useState","useEffect","useLoaderData","CarouselItem","jsx","_jsx","jsxs","_jsxs","Carousel","_useState","_useState2","_slicedToArray","currentIndex","setCurrentIndex","_useState3","_useState4","windowCountOffset","setWindowCountOffset","_useState5","_useState6","length","setLength","petData","data","next","prevState","prev","detectWindow","window","innerWidth","className","children","onClick","style","transform","concat","map","pet","species","_id","name","image"],"sources":["E:/MERN/backend/client/src/components/carousel/carousel.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useLoaderData } from \"react-router-dom\";\n\nimport { CarouselItem } from \"./carouselItem\";\n\nexport const Carousel = () => {\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [windowCountOffset, setWindowCountOffset] = useState(1);\n  const [length, setLength] = useState(0);\n  const petData = useLoaderData() as PetData;\n\n  useEffect(() => {\n    setLength(petData.data.length);\n  }, [petData.data.length]);\n\n  const next = () => {\n    if (currentIndex < length - 1) {\n      setCurrentIndex((prevState) => prevState + 1);\n    }\n    if (currentIndex === length - windowCountOffset) {\n      setCurrentIndex(0);\n    }\n  };\n\n  const prev = () => {\n    if (currentIndex > 0) {\n      setCurrentIndex((prevState) => prevState - 1);\n    }\n    if (currentIndex === 0) {\n      setCurrentIndex(length - windowCountOffset);\n    }\n  };\n  const detectWindow = () => {\n    if (window.innerWidth >= 640) return setWindowCountOffset(4);\n    else if (window.innerWidth >= 768) return setWindowCountOffset(5);\n    else return setWindowCountOffset(1);\n  };\n  useEffect(() => detectWindow(), []);\n\n  return (\n    <div className=\"carousel-container w-full mt-5 flex flex-col \">\n      <div className=\"carousel-wrapper flex w-full relative\">\n        <button\n          onClick={prev}\n          className=\"left-arrow rounded-full bg-slate-500 text-white text-lg  absolute z-10 top-1/2 w-10 h-10 -translate-y-1/2 -left-5\"\n        >\n          &lt;\n        </button>\n\n        <div className=\"carousel-content-wrapper overflow-hidden w-full h-full\">\n          <div\n            className=\"carousel-content flex transition-all w-full sm:w-1/4 md:1/5 duration-700 ease-in-out left-6 gap-x-0\"\n            style={{ transform: `translateX(-${currentIndex * 100}%)` }}\n          >\n            {petData.data.map((pet: CarouselPet) => (\n              <CarouselItem\n                key={pet._id}\n                species={pet.species}\n                _id={pet._id}\n                name={pet.name}\n                image={pet.image}\n              />\n            ))}\n          </div>\n        </div>\n\n        <button\n          onClick={next}\n          className=\"rounded-full bg-slate-500 text-white text-lg  right-arrow absolute z-10 top-1/2 w-10 h-10 -translate-y-1/2 -right-5\"\n        >\n          &gt;\n        </button>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}