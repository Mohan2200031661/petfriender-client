{"ast":null,"code":"import{useState,useEffect}from\"react\";import{useLoaderData}from\"react-router-dom\";import{CarouselItem}from\"./carouselItem\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const Carousel=()=>{const[currentIndex,setCurrentIndex]=useState(0);const[windowCountOffset,setWindowCountOffset]=useState(1);const[length,setLength]=useState(0);const petData=useLoaderData();useEffect(()=>{setLength(petData.data.length);},[petData.data.length]);const next=()=>{if(currentIndex<length-1){setCurrentIndex(prevState=>prevState+1);}if(currentIndex===length-windowCountOffset){setCurrentIndex(0);}};const prev=()=>{if(currentIndex>0){setCurrentIndex(prevState=>prevState-1);}if(currentIndex===0){setCurrentIndex(length-windowCountOffset);}};const detectWindow=()=>{if(window.innerWidth>=640)return setWindowCountOffset(4);else if(window.innerWidth>=768)return setWindowCountOffset(5);else return setWindowCountOffset(1);};useEffect(()=>detectWindow(),[]);return/*#__PURE__*/_jsx(\"div\",{className:\"carousel-container w-full mt-5 flex flex-col \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"carousel-wrapper flex w-full relative\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:prev,className:\"left-arrow rounded-full bg-slate-500 text-white text-lg  absolute z-10 top-1/2 w-10 h-10 -translate-y-1/2 -left-5\",children:\"<\"}),/*#__PURE__*/_jsx(\"div\",{className:\"carousel-content-wrapper overflow-hidden w-full h-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"carousel-content flex transition-all w-full sm:w-1/4 md:1/5 duration-700 ease-in-out left-6 gap-x-0\",style:{transform:\"translateX(-\".concat(currentIndex*100,\"%)\")},children:petData.data.map(pet=>/*#__PURE__*/_jsx(CarouselItem,{species:pet.species,_id:pet._id,name:pet.name,image:pet.image},pet._id))})}),/*#__PURE__*/_jsx(\"button\",{onClick:next,className:\"rounded-full bg-slate-500 text-white text-lg  right-arrow absolute z-10 top-1/2 w-10 h-10 -translate-y-1/2 -right-5\",children:\">\"})]})});};","map":{"version":3,"names":["useState","useEffect","useLoaderData","CarouselItem","jsx","_jsx","jsxs","_jsxs","Carousel","currentIndex","setCurrentIndex","windowCountOffset","setWindowCountOffset","length","setLength","petData","data","next","prevState","prev","detectWindow","window","innerWidth","className","children","onClick","style","transform","concat","map","pet","species","_id","name","image"],"sources":["E:/MERN/backend/client/src/components/carousel/carousel.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useLoaderData } from \"react-router-dom\";\n\nimport { CarouselItem } from \"./carouselItem\";\n\nexport const Carousel = () => {\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [windowCountOffset, setWindowCountOffset] = useState(1);\n  const [length, setLength] = useState(0);\n  const petData = useLoaderData() as PetData;\n\n  useEffect(() => {\n    setLength(petData.data.length);\n  }, [petData.data.length]);\n\n  const next = () => {\n    if (currentIndex < length - 1) {\n      setCurrentIndex((prevState) => prevState + 1);\n    }\n    if (currentIndex === length - windowCountOffset) {\n      setCurrentIndex(0);\n    }\n  };\n\n  const prev = () => {\n    if (currentIndex > 0) {\n      setCurrentIndex((prevState) => prevState - 1);\n    }\n    if (currentIndex === 0) {\n      setCurrentIndex(length - windowCountOffset);\n    }\n  };\n  const detectWindow = () => {\n    if (window.innerWidth >= 640) return setWindowCountOffset(4);\n    else if (window.innerWidth >= 768) return setWindowCountOffset(5);\n    else return setWindowCountOffset(1);\n  };\n  useEffect(() => detectWindow(), []);\n\n  return (\n    <div className=\"carousel-container w-full mt-5 flex flex-col \">\n      <div className=\"carousel-wrapper flex w-full relative\">\n        <button\n          onClick={prev}\n          className=\"left-arrow rounded-full bg-slate-500 text-white text-lg  absolute z-10 top-1/2 w-10 h-10 -translate-y-1/2 -left-5\"\n        >\n          &lt;\n        </button>\n\n        <div className=\"carousel-content-wrapper overflow-hidden w-full h-full\">\n          <div\n            className=\"carousel-content flex transition-all w-full sm:w-1/4 md:1/5 duration-700 ease-in-out left-6 gap-x-0\"\n            style={{ transform: `translateX(-${currentIndex * 100}%)` }}\n          >\n            {petData.data.map((pet: CarouselPet) => (\n              <CarouselItem\n                key={pet._id}\n                species={pet.species}\n                _id={pet._id}\n                name={pet.name}\n                image={pet.image}\n              />\n            ))}\n          </div>\n        </div>\n\n        <button\n          onClick={next}\n          className=\"rounded-full bg-slate-500 text-white text-lg  right-arrow absolute z-10 top-1/2 w-10 h-10 -translate-y-1/2 -right-5\"\n        >\n          &gt;\n        </button>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}